# 通信框架

## 关键技术点分析

### 长连接还是短连接

绝 大 多 数 的 分 布 式 服 务 框 架 ( R P C 框 架 )都 推 荐 使 用 长 连 接 进 行 内 部 通 信,为什么选择 长 连 接 而 不 是 短 连 接 呢 ?

1 ) 相 比 于 短 连 接 ,长 连 接 更 节 省 资 源 。

2 ) 远 程 通 信 是 常 态 ,调 用 时 延 是 关 键 指 标

# 功能设计

## 可靠性设计

### 链路有效性检测

心跳检测机制分为三个层面:

- TC P 层面的心跳检测,即 T C P 的 FCeep - Alive 机 制,它的作用域是整个 TC P 协议栈。

- 协 议 层 的 心 跳 检 测 ,主 要 存 在 于 长 连 接 协 议 中 ,例 如 SM PP 协 议 。

- 应用层的心跳检测,它主要由各业务产品通过约定方式定时给对方发送心跳消息实现。
